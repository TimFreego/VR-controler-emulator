# VR Controller Emulator (Инструкция)

Этот проект превращает ваш Android-смартфон в 3D-контроллер для ПК, используя Termux и Node.js.

## 1. Подготовка телефона (Android)

Вам понадобится приложение **Termux** и **Termux:API**.

1.  **Скачайте Termux** из F-Droid (рекомендуется) или Google Play.
2.  **Скачайте Termux:API** (плагин) там же.
3.  Откройте Termux и введите следующие команды по одной:

```bash
# Обновляем пакеты
pkg update && pkg upgrade -y

# Устанавливаем Node.js, Python и API
pkg install nodejs python termux-api -y

# Создаем папку для проекта
mkdir vr-controller
cd vr-controller

# Инициализируем проект и ставим библиотеку веб-сокетов
npm init -y
npm install ws
```

4.  **Создайте файл сервера:**
    *   В Termux введите: `nano server.js`
    *   Скопируйте код из файла `termux/server.js` (см. код проекта) и вставьте его в Termux (долгое нажатие -> Paste).
    *   Нажмите `Ctrl + O`, `Enter` (сохранить), затем `Ctrl + X` (выйти).

## 2. Запуск на телефоне

В папке `vr-controller` в Termux выполните:

```bash
node server.js
```

Если всё прошло успешно, вы увидите:
*   **YOUR IP ADDRESS:** 192.168.x.x (запишите этот IP)
*   Сообщение о запуске сенсоров.
*   Один раз в консоль выведется пример данных (JSON) от акселерометра и гироскопа.

**Важно:** Телефон и компьютер должны быть подключены к **одной Wi-Fi сети**.

## 3. Запуск на компьютере (VS Code)

1.  Убедитесь, что установлен **Node.js** на компьютере.
2.  Откройте папку проекта в VS Code.
3.  Откройте терминал и выполните:

```bash
npm install
npm start
```

4.  Приложение откроется в браузере (обычно http://localhost:3000).

## 4. Использование

1.  В интерфейсе на ПК введите IP-адрес, который показал телефон (например, `192.168.1.45`).
2.  Нажмите **Connect**.
3.  Если подключение успешно, вы увидите зеленую надпись.
4.  Вращайте телефон — виртуальный блок должен вращаться.
5.  Двигайте телефон — блок должен смещаться (учтите, что акселерометр имеет погрешность (дрифт), поэтому позиция может "уплывать". Используйте кнопку **Reset Position** для сброса).

## Возможные проблемы

*   **Нет данных:** Убедитесь, что экран телефона включен (Android может усыплять сенсоры).
*   **Не подключается:** Проверьте брандмауэр (Firewall) на ПК, разрешите входящие соединения на порт 8080 (хотя подключение идет от ПК к телефону, иногда роутеры блокируют трафик).
*   **Дрифт (уплывание):** Это физическое ограничение дешевых сенсоров. Двойное интегрирование ускорения всегда дает ошибку. В коде применены фильтры (трение), чтобы минимизировать это.
